{"version":3,"sources":["components/person.js","components/filterpeople.js","components/personform.js","components/filter.js","components/notification.js","services/persons.js","App.js","index.js"],"names":["Person","name","number","pressDelete","onClick","FilterPeople","persons","filter","person","toLowerCase","includes","map","key","PersonForm","func","handleNameChange","handleNumberChange","onSubmit","value","onChange","type","Filter","myFilter","handleFilterChange","Notification","message","msgType","className","baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","setFilter","setMsgType","setMessage","useEffect","personService","initialPersons","event","target","preventDefault","personObject","some","window","confirm","find","returnedPerson","concat","setTimeout","catch","error","console","log","search","result","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.5b696fe0.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Person = ({ name, number, pressDelete }) => (\r\n  <div>\r\n    {name} {number}\r\n    <button onClick={() => pressDelete(name)}>delete</button>\r\n  </div>\r\n);\r\n\r\nexport default Person;\r\n","import React from 'react';\r\nimport Person from './person';\r\n\r\nconst FilterPeople = ({ name, persons, pressDelete }) => {\r\n  return persons\r\n    .filter((person) => person.name.toLowerCase().includes(name.toLowerCase()))\r\n    .map((person) => (\r\n      <Person\r\n        key={person.name}\r\n        name={person.name}\r\n        number={person.number}\r\n        pressDelete={pressDelete}\r\n      />\r\n    ));\r\n};\r\n\r\nexport default FilterPeople;\r\n","import React from 'react';\r\n\r\nconst PersonForm = ({\r\n  func,\r\n  name,\r\n  handleNameChange,\r\n  number,\r\n  handleNumberChange,\r\n}) => (\r\n  <form onSubmit={func}>\r\n    <div>\r\n      name: <input value={name} onChange={handleNameChange} />\r\n    </div>\r\n    <div>\r\n      number: <input value={number} onChange={handleNumberChange} />\r\n    </div>\r\n    <div>\r\n      <button type=\"submit\">add</button>\r\n    </div>\r\n  </form>\r\n);\r\n\r\nexport default PersonForm;\r\n","import React from 'react';\r\n\r\nconst Filter = ({ myFilter, handleFilterChange }) => (\r\n  <form>\r\n    <div>\r\n      filter shown with:{' '}\r\n      <input value={myFilter} onChange={handleFilterChange} />\r\n    </div>\r\n  </form>\r\n);\r\n\r\nexport default Filter;\r\n","import React from 'react';\r\n\r\nconst Notification = ({ message, msgType }) => {\r\n  if (message === null) {\r\n    return null;\r\n  }\r\n\r\n  if (msgType === 'updateMsg') {\r\n    return <div className=\"updateMsg\">{message}</div>;\r\n  } else {\r\n    return <div className=\"error\">{message}</div>;\r\n  }\r\n};\r\n\r\nexport default Notification;\r\n","import axios from 'axios';\r\nconst baseUrl = '/api/persons';\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst create = (newObject) => {\r\n  const request = axios.post(baseUrl, newObject);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst deleteId = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`);\r\n  return request.then(() => true);\r\n};\r\n\r\nexport default { getAll, create, update, deleteId };\r\n","import React, { useState, useEffect } from 'react';\r\nimport FilterPeople from './components/filterpeople';\r\nimport PersonForm from './components/personform';\r\nimport Filter from './components/filter';\r\nimport Notification from './components/notification';\r\nimport personService from './services/persons';\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([]);\r\n  const [newName, setNewName] = useState('');\r\n  const [newNumber, setNewNumber] = useState('');\r\n  const [myFilter, setFilter] = useState('');\r\n  const [msgType, setMsgType] = useState('');\r\n  const [message, setMessage] = useState(null);\r\n\r\n  useEffect(() => {\r\n    personService.getAll().then((initialPersons) => {\r\n      setPersons(initialPersons);\r\n    });\r\n  }, []);\r\n\r\n  const addPerson = (event) => {\r\n    event.preventDefault();\r\n    const personObject = {\r\n      name: newName,\r\n      number: newNumber,\r\n    };\r\n    if (persons.some((person) => person.name === newName)) {\r\n      if (\r\n        window.confirm(\r\n          `${newName} is already added to phonebook, replace the old number with a new one?`\r\n        )\r\n      ) {\r\n        const id = persons.find((person) => person.name === newName).id;\r\n        personService\r\n          .update(id, personObject)\r\n          .then((returnedPerson) => {\r\n            setPersons(\r\n              persons\r\n                .filter((person) => person.name !== newName)\r\n                .concat(returnedPerson)\r\n            );\r\n            setNewName('');\r\n            setNewNumber('');\r\n            setMsgType('updateMsg');\r\n            setMessage(`Updated ${newName}'s number`);\r\n            setTimeout(() => {\r\n              setMessage(null);\r\n            }, 5000);\r\n          })\r\n          .catch((error) => {\r\n            console.log(error.response.data);\r\n            setMsgType('errorMsg');\r\n            if (\r\n              error.response.data.error.search(\r\n                /(validation failed)|(duplicate)/i\r\n              ) >= 0\r\n            ) {\r\n              setMessage(error.response.data.error);\r\n            } else {\r\n              setMessage(\r\n                `Information of ${newName} has already been removed from server`\r\n              );\r\n            }\r\n            setTimeout(() => {\r\n              setMessage(null);\r\n            }, 5000);\r\n          });\r\n      }\r\n    } else {\r\n      personService\r\n        .create(personObject)\r\n        .then((returnedPerson) => {\r\n          setPersons(persons.concat(returnedPerson));\r\n          setNewName('');\r\n          setNewNumber('');\r\n          setMsgType('updateMsg');\r\n          setMessage(`Added ${newName}`);\r\n          setTimeout(() => {\r\n            setMessage(null);\r\n          }, 5000);\r\n        })\r\n        .catch((error) => {\r\n          console.log(error.response.data);\r\n          setMsgType('errorMsg');\r\n          if (\r\n            error.response.data.error.search(\r\n              /(validation failed)|(duplicate)/i\r\n            ) >= 0\r\n          ) {\r\n            setMessage(error.response.data.error);\r\n          } else {\r\n            setMessage(\r\n              `Information of ${newName} has already been removed from server`\r\n            );\r\n          }\r\n          setTimeout(() => {\r\n            setMessage(null);\r\n          }, 5000);\r\n        });\r\n    }\r\n  };\r\n\r\n  const pressDelete = (name) => {\r\n    if (window.confirm(`Delete ${name} ?`)) {\r\n      const id = persons.find((person) => person.name === name).id;\r\n      personService\r\n        .deleteId(id)\r\n        .then((result) => {\r\n          if (result) {\r\n            setPersons(persons.filter((person) => person.id !== id));\r\n          }\r\n        })\r\n        .catch(() => {\r\n          setMsgType('errorMsg');\r\n          setMessage(\r\n            `Information of ${name} has already been removed from server`\r\n          );\r\n          setTimeout(() => {\r\n            setMessage(null);\r\n          }, 5000);\r\n        });\r\n    }\r\n  };\r\n\r\n  const handleNameChange = (event) => {\r\n    setNewName(event.target.value);\r\n  };\r\n\r\n  const handleNumberChange = (event) => {\r\n    setNewNumber(event.target.value);\r\n  };\r\n\r\n  const handleFilterChange = (event) => {\r\n    setFilter(event.target.value);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message={message} msgType={msgType} />\r\n      <Filter myFilter={myFilter} handleFilterChange={handleFilterChange} />\r\n      <h2>add a new</h2>\r\n      <PersonForm\r\n        func={addPerson}\r\n        name={newName}\r\n        handleNameChange={handleNameChange}\r\n        number={newNumber}\r\n        handleNumberChange={handleNumberChange}\r\n      />\r\n      <h2>Numbers</h2>\r\n      <FilterPeople\r\n        persons={persons}\r\n        name={myFilter}\r\n        pressDelete={pressDelete}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import ReactDOM from 'react-dom';\r\nimport React from 'react';\r\nimport App from './App';\r\nimport './index.css';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}